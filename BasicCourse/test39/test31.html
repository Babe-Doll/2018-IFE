<!DOCTYPE html>
<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>test31 我是精明的小卖家</title>
<meta name="description" content="">
<meta name="keywords" content="">
<style>

	*{
		margin:0;
		padding: 0;
		color:#8c8c8c;

	}

	#con{
		width:1300px;
		margin-left:calc((100% - 1300px) /2) ;
	}
	#con1{
		 width:750px;
		 margin-left:calc((100% - 750px) /2) ;
	 }
	#con2{
		width:750px;
		margin-left:calc((100% - 750px) /2) ;
	}
	table{
		border-collapse:collapse;
		/*text-align: center;*/
		
	}
	table tr:nth-child(2):hover td:nth-child(1){
		color:#fff;
		background: #ffc4cf;
	}
	table tr:nth-child(5):hover td:nth-child(1){
		color:#fff;
		background: #ffc4cf;
	}
	table tr:nth-child(8):hover td:nth-child(1){
		color:#fff;
		background: #ffc4cf;
	}
	table tr:nth-child(1):hover td{
		color:#fff;
		background: #ffc4cf;
	}
	table tr:hover td{
		background:#fff;
		color: #ec6c94;
	}
	td{
		width:80px;
		border:2px solid rgb(238,113,152,0.2);
		color:#fff;
		background: #ffc4cf;
		
	}
	.bar{
		fill: pink;
	}
	.bar:hover{
		fill: #EE7198;
	}
</style>
</head>
<body>
	<div id="con1" >
		<input type="radio" name="region" value="华东" checked="checked" />华东
		<input type="radio" name="region" value="华南" /> 华南
		<input type="radio" name="region" value="华北" />华北

		<br>
		<input type="radio" name="product" value="手机" checked="checked" />手机
		<input type="radio" name="product" value="笔记本"  /> 笔记本
		<input type="radio" name="product" value="智能音箱" />智能音箱
		<div id="table-wrapper">
		</div>
	</div>
    <div id="con2" >
    	<div id="region-radio-wrapper">
    		<input type="checkbox" name="region-cb" id="c1" value="华东" checked="checked" />华东
			<input type="checkbox" name="region-cb" id="c2" value="华南" checked="checked"/> 华南
			<input type="checkbox" name="region-cb" id="c3" value="华北" checked="checked"/>华北
			<input type="checkbox" id="checkall1" name="" value="全选" checked="checked"/>全选
    	</div>
		<div id="product-radio-wrapper">
			<input type="checkbox" name="product-cb" id="c4" value="手机" checked="checked" />手机
			<input type="checkbox" name="product-cb" id="c5" value="笔记本"  checked="checked"/> 笔记本
			<input type="checkbox" name="product-cb" id="c6" value="智能音箱"  checked="checked"/>智能音箱
			<input type="checkbox"  id="checkall2" name="" value="全选" checked="checked" />全选
		</div>
		<div id="table-wrapper2">
		</div>
	</div>
	<br>
	<div id="con">
		<div style="float: left;"  id="svg">
			<svg width="650" height="430" version="1.1" id="bar" xmlns="http://www.w3.org/2000/svg" >
				<line x1="30" y1="0" x2="30" y2="400" style="stroke:#AE8A95;stroke-width:2;opacity: 0.5"/>
				<line x1="30" y1="400" x2="650" y2="400" style="stroke:#AE8A95;stroke-width:2;opacity: 0.5"/>
				<line x1="30" y1="300" x2="650" y2="300" style="stroke:#EA5D89;stroke-width:2;opacity: 0.1"/>

				<text x="0" y="100" fill="#EA5D89">300</text>
				<line x1="30" y1="100" x2="650" y2="100" style="stroke:#EA5D89;stroke-width:2;opacity: 0.1"/>
				<text x="0" y="200" fill="#EA5D89">200</text>
				<line x1="30" y1="200" x2="650" y2="200" style="stroke:#EA5D89;stroke-width:2;opacity: 0.1"/>
				<text x="0" y="300" fill="#EA5D89">100</text>
				<g id="barcon">

				</g>
			</svg>
		</div>

		<div id="canvas" style="float: left;"><canvas class="line" id="line" width="650" height="430" ></canvas></div>
	</div>
    <script type="text/javascript" src="test31js.js"></script>
    <script type="text/javascript" src="all.js"></script>
	<script type="text/javascript" src="bar.js"></script>
	<script type="text/javascript" src="line.js"></script>
	<script type="text/javascript">
		var flag=1;
        var btn1=document.createElement("button");
        var btn2=document.createElement("button");
            con2.onmousedown = function () {

                for (let i = 0; i < td.length; i++) {

                    td[i].onclick = function () {
                        this.removeChild(div);
                        if (flag == 1) {
                            var tdvalue = td[i].innerHTML;

                            let input = document.createElement("input");
                            input.type = "text";
                            input.value = tdvalue;
                            this.innerHTML = "";
                            this.appendChild(input);
                            input.focus();
                            // console.log(td[i].childNodes[0]);

                            btn1.innerHTML = "确定";
                            btn2.innerHTML = "取消";
                            this.appendChild(btn1);
                            this.appendChild(btn2);
                            flag = 0;
                            document.onkeydown = function (event) {
                                var e = event;
                                if ( e.keyCode == 27) { // 按 Esc
                                            td[i].innerHTML="";
                                            td[i].innerHTML=tdvalue;
                                            flag = 1;

                                } else  if (e.keyCode == 13) { // enter 键
                                            td[i].innerHTML="";
                                            td[i].innerHTML=input.value;
                                            flag = 1;
                                }
                            };
                            setTimeout(function () {
                                btn1.onmousedown = function () {
                                    td[i].innerHTML = "";
                                    td[i].innerHTML = input.value;
                                    flag = 1;
                                }

                            }, 400);
                            setTimeout(function () {
                                btn2.onmousedown = function () {
                                    td[i].innerHTML = "";
                                    td[i].innerHTML = tdvalue;
                                    flag = 1;
                                }

                            }, 500);
                            // alert(flag);

                        }

                    }

                }

        }
	</script>

</body>
</html>